(() => { "use strict"; const e = window.ReactJSXRuntime, { registerBlockType: s } = wp.blocks, { useState: o, useEffect: t } = wp.element, { InspectorControls: r } = wp.blockEditor || wp.editor, { PanelBody: n, ToggleControl: c } = wp.components, { __ } = wp.i18n; s("cuo/user-table", { title: __("User Table", "custom-user-orchestrator"), icon: "groups", category: "widgets", attributes: { showEmail: { type: "boolean", default: !0 }, showPhone: { type: "boolean", default: !0 }, showCompany: { type: "boolean", default: !0 } }, edit: s => { const { attributes: h, setAttributes: a } = s, [l, i] = o(null), [d, u] = o(null); return t(() => { fetch("/wp-json/custom-plugin/v1/data").then(e => e.json()).then(e => i(e)).catch(e => u(e.message)) }, []), (0, e.jsxs)(e.Fragment, { children: [(0, e.jsx)(r, { children: (0, e.jsxs)(n, { title: __("Columns", "custom-user-orchestrator"), children: [(0, e.jsx)(c, { label: __("Email", "custom-user-orchestrator"), checked: h.showEmail, onChange: e => a({ showEmail: e }) }), (0, e.jsx)(c, { label: __("Phone", "custom-user-orchestrator"), checked: h.showPhone, onChange: e => a({ showPhone: e }) }), (0, e.jsx)(c, { label: __("Company", "custom-user-orchestrator"), checked: h.showCompany, onChange: e => a({ showCompany: e }) })] }) }), (0, e.jsxs)("div", { className: "cuo-user-table-block", children: [d && (0, e.jsx)("div", { className: "notice notice-error", children: d }), !l && !d && (0, e.jsx)("p", { children: __("Loading...", "custom-user-orchestrator") }), l && Array.isArray(l) && (0, e.jsxs)("table", { className: "widefat", children: [(0, e.jsx)("thead", { children: (0, e.jsxs)("tr", { children: [(0, e.jsx)("th", { children: "ID" }), (0, e.jsx)("th", { children: __("Name", "custom-user-orchestrator") }), h.showEmail && (0, e.jsx)("th", { children: __("Email", "custom-user-orchestrator") }), h.showPhone && (0, e.jsx)("th", { children: __("Phone", "custom-user-orchestrator") }), h.showCompany && (0, e.jsx)("th", { children: __("Company", "custom-user-orchestrator") })] }) }), (0, e.jsx)("tbody", { children: l.map(s => (0, e.jsxs)("tr", { children: [(0, e.jsx)("td", { children: s.id }), (0, e.jsx)("td", { children: s.name }), h.showEmail && (0, e.jsx)("td", { children: s.email }), h.showPhone && (0, e.jsx)("td", { children: s.phone }), h.showCompany && (0, e.jsx)("td", { children: s.company?.name })] }, s.id)) })] })] })] }) }, save: () => null }) })();